<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>nokey.government.usa_spending &mdash; nokey 0.7.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=c98573da"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            nokey
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">nokey</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nokey</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">nokey.government.usa_spending</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for nokey.government.usa_spending</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">requests_cache</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="n">helperFuncs</span> <span class="kn">import</span> <span class="nn">make_request</span> <span class="k">as</span> <span class="nn">mr</span> 

<span class="n">current</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span>

<div class="viewcode-block" id="USAspending">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending">[docs]</a>
<span class="k">class</span> <span class="nc">USAspending</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class for interacting with the USA Spending API.</span>
<span class="sd">    </span>
<span class="sd">    Attributes:</span>
<span class="sd">    - base_url: The base URL for the API.</span>
<span class="sd">    - about: A short description of the API.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_caching</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cache_name</span><span class="o">=</span><span class="s2">&quot;usa_spending_cache&quot;</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">&quot;sqlite&quot;</span><span class="p">,</span> <span class="n">expire_after</span><span class="o">=</span><span class="mi">3600</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://api.usaspending.gov/api/v2/&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">about</span> <span class="o">=</span> <span class="s2">&quot;USAspending is the official open data source of federal spending information, including information about federal awards such as contracts, grants, and loans.&quot;</span>
        
        <span class="k">if</span> <span class="n">use_caching</span><span class="p">:</span>
            <span class="n">requests_cache</span><span class="o">.</span><span class="n">install_cache</span><span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="n">backend</span><span class="p">,</span> <span class="n">expire_after</span><span class="o">=</span><span class="n">expire_after</span><span class="p">)</span>
            
<div class="viewcode-block" id="USAspending.get_docs_url">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_docs_url">[docs]</a>
    <span class="k">def</span> <span class="nf">get_docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the URL for the USAspending API documentation.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - None</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - string: The URL for the API docs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://api.usaspending.gov/docs/&quot;</span></div>

        
<div class="viewcode-block" id="USAspending.get_agency_overview_info">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_agency_overview_info">[docs]</a>
    <span class="k">def</span> <span class="nf">get_agency_overview_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns agency overview information for USAspending.gov&#39;s Agency Details page for agencies that have ever awarded.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the agency overview information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_agency_summary_info">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_agency_summary_info">[docs]</a>
    <span class="k">def</span> <span class="nf">get_agency_summary_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">agency_type</span><span class="o">=</span><span class="s2">&quot;awarding&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns agency summary information, specifically the number of transactions and award obligations for the sub agency section of USAspending.gov&#39;s Agency Details page.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - agency_type (str): Optional. Determines if the data being returned is derived from the awarding agency or the funding agency. Defaults to awarding, but other option is funding.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the agency summary information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/awards?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;agency_type=</span><span class="si">{</span><span class="n">agency_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_new_awards_count_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_new_awards_count_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_new_awards_count_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">agency_type</span><span class="o">=</span><span class="s2">&quot;awarding&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a count of New Awards for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - agency_type (str): Optional. Determines if the data being returned is derived from the awarding agency or the funding agency. Defaults to awarding, but other option is funding.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/awards/new/count?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;agency_type=</span><span class="si">{</span><span class="n">agency_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_awards_type_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_awards_type_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_awards_type_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a count of Awards types for agencies in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - group (str): Optional parameter. Use cfo to get results where CFO designated agencies are returned. Otherwise the default is all.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): The number of items to return. Default is 1.</span>
<span class="sd">        - page (int): Pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/awards/count?group=</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">&amp;fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_budget_functions_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_budget_functions_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_budget_functions_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of Budget Functions and Budget Subfunctions for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - Filter (str): Optional. This will filter the Budget Function by their name to those matching the text.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): Optional parameter to limit number of items. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of Budget Functions and Subfunctions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/budget_function?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/budget_function?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_budget_function_count_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_budget_function_count_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_budget_function_count_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of Budget Functions for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/budget_function/count?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_budgetary_resources_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_budgetary_resources_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_budgetary_resources_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns budgetary resources and obligations for the agency and fiscal year requested.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of budgetary resources and obligations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/budgetary_resources&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_federal_accounts_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_federal_accounts_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_federal_accounts_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of Federal Accounts and Treasury Accounts for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - Filter (str): Optional. This will filter the Budget Function by their name to those matching the text.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): Optional parameter to limit number of items. Default is 10.</span>
<span class="sd">        - page (int): Optional pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of Federal Accounts and Treasury Accounts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/federal_account?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/federal_account?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

             
<div class="viewcode-block" id="USAspending.get_federal_accounts_count_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_federal_accounts_count_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_federal_accounts_count_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of Federal Accounts and Treasury Accounts for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count of Federal Accounts and Treasury Accounts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/federal_account/count?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_object_classes_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_object_classes_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_object_classes_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of Object Classes for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - Filter (str): Optional. This will filter the Budget Function by their name to those matching the text.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): Optional parameter to limit number of items. Default is 10.</span>
<span class="sd">        - page (int): Optional pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of Objects Classes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/object_class?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/object_class?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

               
<div class="viewcode-block" id="USAspending.get_object_classes_count_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_object_classes_count_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_object_classes_count_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of Object Classes for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count of Object Classes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/object_class/count?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_obligations_by_award_category_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_obligations_by_award_category_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_obligations_by_award_category_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a breakdown of obligations by award category within a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a breakdown of obligations by award category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/obligations_by_award_category?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_program_activity_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_program_activity_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_program_activity_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of Program Activity categories for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - Filter (str): Optional. This will filter the Budget Function by their name to those matching the text.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): Optional parameter to limit number of items. Default is 10.</span>
<span class="sd">        - page (int): Optional pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of Program Activity categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/program_activity?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/program_activity?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

              
<div class="viewcode-block" id="USAspending.get_program_activity_count_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_program_activity_count_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_program_activity_count_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of Program Activity categories for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count of Program Activity categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/program_activity/count?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_sub_agencies_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_sub_agencies_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_sub_agencies_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">agency_type</span><span class="o">=</span><span class="s2">&quot;awarding&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of sub-agencies and offices with obligated amounts, transaction counts and new award counts for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - agency_type (str): Optional. Determines if the data being returned is derived from the awarding agency or the funding agency. Defaults to awarding, but other option is funding.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): Optional parameter to limit number of items. Default is 10.</span>
<span class="sd">        - page (int): Optional pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of sub-agencies and offices.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/sub_agency?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;agency_type=</span><span class="si">{</span><span class="n">agency_type</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_sub_agency_count_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_sub_agency_count_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_sub_agency_count_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">agency_type</span><span class="o">=</span><span class="s2">&quot;awarding&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of sub-agencies and offices for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - agency_type (str): Optional. Determines if the data being returned is derived from the awarding agency or the funding agency. Defaults to awarding, but other option is funding.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a number of sub-agencies and offices.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/sub_agency/count?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;agency_type=</span><span class="si">{</span><span class="n">agency_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_federal_accounts_by_bureau_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_federal_accounts_by_bureau_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_federal_accounts_by_bureau_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">bureau_slug</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">agency_type</span><span class="o">=</span><span class="s2">&quot;awarding&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of federal_accounts by bureau for the agency in a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - bureau_slug (str): The slug for the bureau.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - agency_type (str): Optional. Determines if the data being returned is derived from the awarding agency or the funding agency. Defaults to awarding, but other option is funding.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): Optional parameter to limit number of items. Default is 10.</span>
<span class="sd">        - page (int): Optional pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of federal accounts by bureau.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/sub_components/</span><span class="si">{</span><span class="n">bureau_slug</span><span class="si">}</span><span class="s2">?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;agency_type=</span><span class="si">{</span><span class="n">agency_type</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_subcomponents_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_subcomponents_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_subcomponents_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_agency_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">agency_type</span><span class="o">=</span><span class="s2">&quot;awarding&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of Sub-Components in the Agency&#39;s appropriations for a single fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_agency_code (str): A numerical code (in string form, due to the use of leading zeros) identifying the agency.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - agency_type (str): Optional. Determines if the data being returned is derived from the awarding agency or the funding agency. Defaults to awarding, but other option is funding.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): Optional parameter to limit number of items. Default is 10.</span>
<span class="sd">        - page (int): Optional pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of Sub-Components.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/</span><span class="si">{</span><span class="n">toptier_agency_code</span><span class="si">}</span><span class="s2">/sub_components?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;agency_type=</span><span class="si">{</span><span class="n">agency_type</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_object_classes_for_tas">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_object_classes_for_tas">[docs]</a>
    <span class="k">def</span> <span class="nf">get_object_classes_for_tas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tas</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of Object Classes for the specified Treasury Account Symbol (tas).</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - tas (str): The treasury account symbol (tas) of a treasury account. This endpoint supports TAS codes with 0 or 1 slashes in the code.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - Filter (str): Optional. This will filter the Budget Function by their name to those matching the text.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): Optional parameter to limit number of items. Default is 10.</span>
<span class="sd">        - page (int): Optional pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of Object Classes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/treasury_account/</span><span class="si">{</span><span class="n">tas</span><span class="si">}</span><span class="s2">/object_class?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/treasury_account/</span><span class="si">{</span><span class="n">tas</span><span class="si">}</span><span class="s2">/object_class?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

    
        
<div class="viewcode-block" id="USAspending.get_program_activities_for_tas">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_program_activities_for_tas">[docs]</a>
    <span class="k">def</span> <span class="nf">get_program_activities_for_tas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tas</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of Program Activities for the specified Treasury Account Symbol (tas).</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - tas (str): The treasury account symbol (tas) of a treasury account. This endpoint supports TAS codes with 0 or 1 slashes in the code.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Optional parameter, defaults to the current year.</span>
<span class="sd">        - Filter (str): Optional. This will filter the Budget Function by their name to those matching the text.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order (default).</span>
<span class="sd">        - limit (int): Optional parameter to limit number of items. Default is 10.</span>
<span class="sd">        - page (int): Optional pagination parameter. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of Program Activities.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/treasury_account/</span><span class="si">{</span><span class="n">tas</span><span class="si">}</span><span class="s2">/program_activity?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;agency/treasury_account/</span><span class="si">{</span><span class="n">tas</span><span class="si">}</span><span class="s2">/program_activity?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

            
       
    <span class="c1">### Autocomplete functions       </span>
<div class="viewcode-block" id="USAspending.tas_autocomplete_a">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.tas_autocomplete_a">[docs]</a>
    <span class="k">def</span> <span class="nf">tas_autocomplete_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Filter</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the list of potential Availability Type Codes narrowed by other components supplied in the Treasury Account filter.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - Filter (dict): The component filters to be used in the data. Each component listed may be omitted, null, or a string value. If omitted, no filtering will be performed on that component. If null, the filter will include account numbers missing that component. If a string, the filter will perform an exact match on account numbers where that component matches the string provided. Possible values are ata (optional, string, nullable) Allocation Transfer Agency Identifier (3 characters). TAS only; aid (optional, string, nullable) Agency Identifier (3 characters); bpoa (optional, string, nullable) Beginning Period of Availability (4 characters). TAS only; epoa (optional, string, nullable) Ending Period of Availability (4 characters). TAS only; a (optional, string, nullable) Availability Type Code (1 character). Will either be &#39;X&#39; or null. TAS only; main (optional, string, nullable) Main Account Code (4 characters); and sub (optional, string, nullable) Sub Account Code (3 characters). TAS only.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is 10.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of potential Availability Type Codes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">Filter</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/accounts/a&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.tas_autocomplete_aid">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.tas_autocomplete_aid">[docs]</a>
    <span class="k">def</span> <span class="nf">tas_autocomplete_aid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Filter</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the list of potential Agency Identifiers narrowed by other components supplied in the Treasury Account or Federal Account filter.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - Filter (dict): The component filters to be used in the data. Each component listed may be omitted, null, or a string value. If omitted, no filtering will be performed on that component. If null, the filter will include account numbers missing that component. If a string, the filter will perform an exact match on account numbers where that component matches the string provided. Possible values are ata (optional, string, nullable) Allocation Transfer Agency Identifier (3 characters). TAS only; aid (optional, string, nullable) Agency Identifier (3 characters); bpoa (optional, string, nullable) Beginning Period of Availability (4 characters). TAS only; epoa (optional, string, nullable) Ending Period of Availability (4 characters). TAS only; a (optional, string, nullable) Availability Type Code (1 character). Will either be &#39;X&#39; or null. TAS only; main (optional, string, nullable) Main Account Code (4 characters); and sub (optional, string, nullable) Sub Account Code (3 characters). TAS only.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is 10.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of potential Agency Identifiers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">Filter</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/accounts/aid&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.tas_autocomplete_ata">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.tas_autocomplete_ata">[docs]</a>
    <span class="k">def</span> <span class="nf">tas_autocomplete_ata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Filter</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the list of potential Allocation Transfer Agency Identifiers narrowed by other components supplied in the Treasury Account filter.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - Filter (dict): The component filters to be used in the data. Each component listed may be omitted, null, or a string value. If omitted, no filtering will be performed on that component. If null, the filter will include account numbers missing that component. If a string, the filter will perform an exact match on account numbers where that component matches the string provided. Possible values are ata (optional, string, nullable) Allocation Transfer Agency Identifier (3 characters). TAS only; aid (optional, string, nullable) Agency Identifier (3 characters); bpoa (optional, string, nullable) Beginning Period of Availability (4 characters). TAS only; epoa (optional, string, nullable) Ending Period of Availability (4 characters). TAS only; a (optional, string, nullable) Availability Type Code (1 character). Will either be &#39;X&#39; or null. TAS only; main (optional, string, nullable) Main Account Code (4 characters); and sub (optional, string, nullable) Sub Account Code (3 characters). TAS only.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is 10.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of potential Transfer Agency Identifiers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">Filter</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/accounts/ata&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.tas_autocomplete_bpoa">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.tas_autocomplete_bpoa">[docs]</a>
    <span class="k">def</span> <span class="nf">tas_autocomplete_bpoa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Filter</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the list of potential Beginning Period of Availabilities narrowed by other components supplied in the Treasury Account filter.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - Filter (dict): The component filters to be used in the data. Each component listed may be omitted, null, or a string value. If omitted, no filtering will be performed on that component. If null, the filter will include account numbers missing that component. If a string, the filter will perform an exact match on account numbers where that component matches the string provided. Possible values are ata (optional, string, nullable) Allocation Transfer Agency Identifier (3 characters). TAS only; aid (optional, string, nullable) Agency Identifier (3 characters); bpoa (optional, string, nullable) Beginning Period of Availability (4 characters). TAS only; epoa (optional, string, nullable) Ending Period of Availability (4 characters). TAS only; a (optional, string, nullable) Availability Type Code (1 character). Will either be &#39;X&#39; or null. TAS only; main (optional, string, nullable) Main Account Code (4 characters); and sub (optional, string, nullable) Sub Account Code (3 characters). TAS only.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is 10.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of potential Beginning Period of Availabilities.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">Filter</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/accounts/bpoa&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.tas_autocomplete_epoa">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.tas_autocomplete_epoa">[docs]</a>
    <span class="k">def</span> <span class="nf">tas_autocomplete_epoa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Filter</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the list of potential Ending Period of Availabilities narrowed by other components supplied in the Treasury Account filter.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - Filter (dict): The component filters to be used in the data. Each component listed may be omitted, null, or a string value. If omitted, no filtering will be performed on that component. If null, the filter will include account numbers missing that component. If a string, the filter will perform an exact match on account numbers where that component matches the string provided. Possible values are ata (optional, string, nullable) Allocation Transfer Agency Identifier (3 characters). TAS only; aid (optional, string, nullable) Agency Identifier (3 characters); bpoa (optional, string, nullable) Beginning Period of Availability (4 characters). TAS only; epoa (optional, string, nullable) Ending Period of Availability (4 characters). TAS only; a (optional, string, nullable) Availability Type Code (1 character). Will either be &#39;X&#39; or null. TAS only; main (optional, string, nullable) Main Account Code (4 characters); and sub (optional, string, nullable) Sub Account Code (3 characters). TAS only.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is 10.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of potential Ending Period of Availabilities.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">Filter</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/accounts/epoa&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.tas_autocomplete_main">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.tas_autocomplete_main">[docs]</a>
    <span class="k">def</span> <span class="nf">tas_autocomplete_main</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Filter</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the list of potential Main Account Codes narrowed by other components supplied in the Treasury Account or Federal Account filter.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - Filter (dict): The component filters to be used in the data. Each component listed may be omitted, null, or a string value. If omitted, no filtering will be performed on that component. If null, the filter will include account numbers missing that component. If a string, the filter will perform an exact match on account numbers where that component matches the string provided. Possible values are ata (optional, string, nullable) Allocation Transfer Agency Identifier (3 characters). TAS only; aid (optional, string, nullable) Agency Identifier (3 characters); bpoa (optional, string, nullable) Beginning Period of Availability (4 characters). TAS only; epoa (optional, string, nullable) Ending Period of Availability (4 characters). TAS only; a (optional, string, nullable) Availability Type Code (1 character). Will either be &#39;X&#39; or null. TAS only; main (optional, string, nullable) Main Account Code (4 characters); and sub (optional, string, nullable) Sub Account Code (3 characters). TAS only.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is 10.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of potential Main Account Codes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">Filter</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/accounts/main&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.tas_autocomplete_sub">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.tas_autocomplete_sub">[docs]</a>
    <span class="k">def</span> <span class="nf">tas_autocomplete_sub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Filter</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the list of potential Sub Account Codes narrowed by other components supplied in the Treasury Account filter.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - Filter (dict): The component filters to be used in the data. Each component listed may be omitted, null, or a string value. If omitted, no filtering will be performed on that component. If null, the filter will include account numbers missing that component. If a string, the filter will perform an exact match on account numbers where that component matches the string provided. Possible values are ata (optional, string, nullable) Allocation Transfer Agency Identifier (3 characters). TAS only; aid (optional, string, nullable) Agency Identifier (3 characters); bpoa (optional, string, nullable) Beginning Period of Availability (4 characters). TAS only; epoa (optional, string, nullable) Ending Period of Availability (4 characters). TAS only; a (optional, string, nullable) Availability Type Code (1 character). Will either be &#39;X&#39; or null. TAS only; main (optional, string, nullable) Main Account Code (4 characters); and sub (optional, string, nullable) Sub Account Code (3 characters). TAS only.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is 10.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of potential Sub Account Codes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">Filter</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/accounts/sub&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.awarding_agency_and_office_autocomplete">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.awarding_agency_and_office_autocomplete">[docs]</a>
    <span class="k">def</span> <span class="nf">awarding_agency_and_office_autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of rewarding agencies matching the specified search text.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - search_text (str): Text for search query.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of rewarding agencies.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/awarding_agency_office/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.funding_agency_autocomplete">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.funding_agency_autocomplete">[docs]</a>
    <span class="k">def</span> <span class="nf">funding_agency_autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of funding agencies matching the specified search text.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - search_text (str): Text for search query.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of funding agencies.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/funding_agency_office/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.cfda_autocomplete">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.cfda_autocomplete">[docs]</a>
    <span class="k">def</span> <span class="nf">cfda_autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of cfda programs matching the specified search text.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - search_text (str): Text for search query.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of cfda programs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/cfda/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.city_autocomplete">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.city_autocomplete">[docs]</a>
    <span class="k">def</span> <span class="nf">city_autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">country_code</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">state_code</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of city names matching the specified search text.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - search_text (str): Text for search query.</span>
<span class="sd">        - limit (int): Maximum number of results to return. Required.</span>
<span class="sd">        - country_code (str): Country code part of a filter object. </span>
<span class="sd">        - scope (str): Scope of the search, part of a filter object. Possible values are primary_place_of_performance and recipient_location.</span>
<span class="sd">        - state_code (str): Optional state code part of a filter object. </span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of city names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">state_code</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;country_code&quot;</span><span class="p">:</span> <span class="n">country_code</span><span class="p">,</span> <span class="s2">&quot;scope&quot;</span><span class="p">:</span> <span class="n">scope</span><span class="p">,</span> <span class="s2">&quot;state_code&quot;</span><span class="p">:</span> <span class="n">state_code</span><span class="p">}}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;country_code&quot;</span><span class="p">:</span> <span class="n">country_code</span><span class="p">,</span> <span class="s2">&quot;scope&quot;</span><span class="p">:</span> <span class="n">scope</span><span class="p">}}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/city/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.recipient_autocomplete">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.recipient_autocomplete">[docs]</a>
    <span class="k">def</span> <span class="nf">recipient_autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">recipient_levels</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of recipients matching the specified search text.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - search_text (str): Text for search query.</span>
<span class="sd">        - limit (int): Maximum number of results to return. Default is 10, and maximum is 500.</span>
<span class="sd">        - recipient_levels (array): Optional. Array of strings identifying the recipient levels. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of recipients.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">recipient_levels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;recipient_levels&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">recipient_levels</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/recipient/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.glossary_autocomplete">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.glossary_autocomplete">[docs]</a>
    <span class="k">def</span> <span class="nf">glossary_autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns glossary autocomplete data for submitted text snippet.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - search_text (str): Text for search query.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing glossary autocomplete data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/glossary/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.naics_autocomplete">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.naics_autocomplete">[docs]</a>
    <span class="k">def</span> <span class="nf">naics_autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of naics objects matching the specified search text.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - search_text (str): Text for search query.</span>
<span class="sd">        - limit (int): Maximum number of results to return. Default is 10.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of naics objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/naics/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.psc_autocomplete">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.psc_autocomplete">[docs]</a>
    <span class="k">def</span> <span class="nf">psc_autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of product or service (psc) codes matching the specified search text.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - search_text (str): Text for search query.</span>
<span class="sd">        - limit (int): Optional. Maximum number of results to return. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of product or service (psc) codes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/psc/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.location_autocomplete">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.location_autocomplete">[docs]</a>
    <span class="k">def</span> <span class="nf">location_autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of locations matching the specified search text.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - search_text (str): Text for search query.</span>
<span class="sd">        - limit (int): Maximum number of results to return. Default is 10.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing list of locations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;search_text&quot;</span><span class="p">:</span> <span class="n">search_text</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;autocomplete/location/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
    <span class="c1">### Award-related functions</span>
<div class="viewcode-block" id="USAspending.get_recipient_award_spending">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_recipient_award_spending">[docs]</a>
    <span class="k">def</span> <span class="nf">get_recipient_award_spending</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">awarding_agency_id</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all award spending by recipient for a given agency id and fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - awarding_agency_id (int): Internal award id of the recipient.</span>
<span class="sd">        - fiscal_year (int): The fiscal year for the search.</span>
<span class="sd">        - limit (int): Number of items to return. Defaults to 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing all award spending by recipient.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;award_spending/recipient/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;awarding_agency_id=</span><span class="si">{</span><span class="n">awarding_agency_id</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_award_data">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_award_data">[docs]</a>
    <span class="k">def</span> <span class="nf">get_award_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of data that is associated with the award profile page.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique identifier matching the award.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing a list of data associated with an award.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;awards/</span><span class="si">{</span><span class="n">award_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_award_accounts">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_award_accounts">[docs]</a>
    <span class="k">def</span> <span class="nf">get_award_accounts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;federal_account&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of federal accounts under a given award.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique matching the award.</span>
<span class="sd">        - page (int): Optional pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of items to return. Defaults to None.</span>
<span class="sd">        - order (str): Ordering of the data. Defaults to desc (descending), and other option is asc (ascending).</span>
<span class="sd">        - sort (str): The field to sort on. Default is federal_account, but other options are account_title, agency, and total_transaction_obligated_amount.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing a list of federal accounts under a given award.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span> <span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="s2">&quot;awards/accounts/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_federal_accounts_count_by_award">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_federal_accounts_count_by_award">[docs]</a>
    <span class="k">def</span> <span class="nf">get_federal_accounts_count_by_award</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of federal accounts associated with the given award.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique identifier matching the award.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing the number of federal accounts associated with the given award.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;awards/count/federal_account/</span><span class="si">{</span><span class="n">award_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_subawards_for_award">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_subawards_for_award">[docs]</a>
    <span class="k">def</span> <span class="nf">get_subawards_for_award</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of subawards associated with the given award.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique identifier matching the award.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing the number of subawards associated with the given award.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;awards/count/subaward/</span><span class="si">{</span><span class="n">award_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_award_transactions_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_award_transactions_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_award_transactions_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of transactions associated with the given award.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique identifier matching the award.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing the number of transactions associated with the given award.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;awards/count/transaction/</span><span class="si">{</span><span class="n">award_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_award_funding_data">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_award_funding_data">[docs]</a>
    <span class="k">def</span> <span class="nf">get_award_funding_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;reporting_fiscal_date&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns federal account, awarding agencies, funding agencies, and transaction obligated amount information for a requested award.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique identifier matching the award.</span>
<span class="sd">        - page (int): Optional pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of items to return. Defaults to 10.</span>
<span class="sd">        - order (str): Ordering of the data. Defaults to desc (descending), and other option is asc (ascending).</span>
<span class="sd">        - sort (str): The field to sort on. Default is reporting_fiscal_date, but other options are account_title, awarding_agency_name, disaster_emergency_fund_code, federal_account, funding_agency_name, gross_outlay_amount, object_class, program_activity, and transaction_obligated_amount.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing a list of data for a given award.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span> <span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="s2">&quot;awards/funding/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_award_funding_obligations_and_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_award_funding_obligations_and_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_award_funding_obligations_and_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the total transaction obligations and count of awarding agencies, funding agencies, and federal accounts for an award.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique identifier matching the award.</span>
<span class="sd">       </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing a list of total transaction obligations and count of awarding agencies, funding agencies, and federal accounts for an award.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">}</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="s2">&quot;awards/funding_rollup/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_award_last_updated">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_award_last_updated">[docs]</a>
    <span class="k">def</span> <span class="nf">get_award_last_updated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the last updated date for the award data.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - None</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing the last updated date for the award data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="s2">&quot;awards/last_updated&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">)</span></div>

    
    <span class="c1">### Budget functions    </span>
<div class="viewcode-block" id="USAspending.get_budget_functions">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_budget_functions">[docs]</a>
    <span class="k">def</span> <span class="nf">get_budget_functions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of all Budget Functions ordered by their title.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - None</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing a list of all Budget Functions ordered by their title.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="s2">&quot;budget_functions/list_budget_functions&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_budget_subfunctions">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_budget_subfunctions">[docs]</a>
    <span class="k">def</span> <span class="nf">get_budget_subfunctions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">budget_function</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of all Budget Subfunctions that can be filtered by Budget Function, ordered by their title.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - budget_function (int): Number matching the budget function.</span>
<span class="sd">       </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing a list of Budget Subfunctions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">budget_function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;budget_function&quot;</span><span class="p">:</span> <span class="n">budget_function</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="s2">&quot;budget_functions/list_budget_subfunctions/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
    <span class="c1">### Download functions</span>
<div class="viewcode-block" id="USAspending.bulk_award_download">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.bulk_award_download">[docs]</a>
    <span class="k">def</span> <span class="nf">bulk_award_download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a ZIP file of award data for download.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): A dictionary of filter options for the downloaded data. See the endpoint docs for the format of this filter object.</span>
<span class="sd">        - file_format (str): Format of the file to be downloaded. Default is csv, but other options are tsv and pstxt.</span>
<span class="sd">       </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing the data regarding ZIP file for download.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span> <span class="s2">&quot;file_format&quot;</span><span class="p">:</span> <span class="n">file_format</span><span class="p">}</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="s2">&quot;bulk_download/awards/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.list_agencies">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.list_agencies">[docs]</a>
    <span class="k">def</span> <span class="nf">list_agencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agencies_type</span><span class="p">,</span> <span class="n">agency</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns one of three result set flavors. For &quot;account_agencies&quot; requests it returns a list of all toptier agencies with at least one DABS submission. For &quot;award_agencies&quot; requests it returns a list of all user selectable flagged toptier agencies with at least one subtier agency. For specific agency requests it returns a list of all user selectable flagged subtier agencies.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - agencies_type (str): Type of agency desired. Possible options are account_agencies and award_agencies.</span>
<span class="sd">        - agency (int): Agency identifier number.</span>
<span class="sd">       </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing a list of selected agency information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">agencies_type</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">agency</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;agency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">agency</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="s2">&quot;bulk_download/list_agencies/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.list_monthly_files">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.list_monthly_files">[docs]</a>
    <span class="k">def</span> <span class="nf">list_monthly_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agency</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">file_type</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the current versions of generated archive files for a given fiscal year and agency.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - agency (str or int): Agency database ID or all.</span>
<span class="sd">        - fiscal_year (int): Fiscal year.</span>
<span class="sd">        - file_type (str): Optional parameter for archive file type. Possible values are assistance and contracts. Defaults to None.</span>
<span class="sd">       </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing a list of current versions of generated archive files.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;agency&quot;</span><span class="p">:</span> <span class="n">agency</span><span class="p">,</span> <span class="s2">&quot;fiscal_year&quot;</span><span class="p">:</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">file_type</span><span class="p">}</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="s2">&quot;bulk_download/list_monthly_files/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_download_status">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_download_status">[docs]</a>
    <span class="k">def</span> <span class="nf">get_download_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the current status of a download job.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - file_name (str): The full name of the file downloaded. Taken from the file_name field of a download endpoint response.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: Dictionary containing the current status of a download job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;bulk_download/status?file_name=</span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">enpoint</span><span class="p">)</span></div>

        
    <span class="c1">### Emergency and disaster related functions</span>
<div class="viewcode-block" id="USAspending.get_count_agencies_receiving_def">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_count_agencies_receiving_def">[docs]</a>
    <span class="k">def</span> <span class="nf">get_count_agencies_receiving_def</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a count for agencies which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a count of agencies which received disaster/emergency funding.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">}}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/agency/count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_agencies_awarding_def_loans">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_agencies_awarding_def_loans">[docs]</a>
    <span class="k">def</span> <span class="nf">get_agencies_awarding_def_loans</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the Agencies awarding loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - award_type_codes (list): Optional. Only accepts loan award type 07 or 08 in the array, since this endpoint is specific to loans. Defaults to None.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the Agencies awarding loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">}</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/agency/loans/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_agencies_receiving_def_funding">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_agencies_receiving_def_funding">[docs]</a>
    <span class="k">def</span> <span class="nf">get_agencies_receiving_def_funding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">spending_type</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the Agencies receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - spending_type (str): Spending type. Defaults to total, but other option is award.</span>
<span class="sd">        - award_type_codes (list): Optional. Only to be used if spending type is award. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, A, B, C, D, IDV_A, IDV_B_A, IDV_B_B, IDV_B_C, IDV_B, IDV_C, IDV_D, IDV_E, and -1.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the Agencies receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">},</span>
                <span class="s2">&quot;spending_type&quot;</span><span class="p">:</span> <span class="n">spending_type</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/agency/spending/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_aggregated_def_spending">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_aggregated_def_spending">[docs]</a>
    <span class="k">def</span> <span class="nf">get_aggregated_def_spending</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">spending_type</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">award_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns account data obligation and outlay spending aggregations of all (File D) Awards which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - spending_type (str): Spending type. Defaults to total, but other option is award.</span>
<span class="sd">        - award_type_codes (list): Optional. Only to be used if spending type is award. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, A, B, C, D, IDV_A, IDV_B_A, IDV_B_B, IDV_B_C, IDV_B, IDV_C, IDV_D, IDV_E, and -1.</span>
<span class="sd">        - award_type (str): When provided, it will return results limiting to the award type (Assistance or Procurment) based on Financial Account data. This is mutually exclusive from award_type_codes. Possible values are procurement and assistance.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing account data obligation and outlay spending aggregations of all (File D) Awards which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">},</span>
                <span class="s2">&quot;spending_type&quot;</span><span class="p">:</span> <span class="n">spending_type</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="k">if</span> <span class="n">award_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/award/amount/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_aggregated_def_spending_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_aggregated_def_spending_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_aggregated_def_spending_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">spending_type</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">award_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of account data obligation and outlay spending aggregations of all (File D) Awards which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - spending_type (str): Spending type. Defaults to total, but other option is award.</span>
<span class="sd">        - award_type_codes (list): Optional. Only to be used if spending type is award. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, A, B, C, D, IDV_A, IDV_B_A, IDV_B_B, IDV_B_C, IDV_B, IDV_C, IDV_D, IDV_E, and -1.</span>
<span class="sd">        - award_type (str): When provided, it will return results limiting to the award type (Assistance or Procurment) based on Financial Account data. This is mutually exclusive from award_type_codes. Possible values are procurement and assistance.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count of account data obligation and outlay spending aggregations of all (File D) Awards which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">},</span>
                <span class="s2">&quot;spending_type&quot;</span><span class="p">:</span> <span class="n">spending_type</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="k">if</span> <span class="n">award_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/award/count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_cfda_receiving_def_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_cfda_receiving_def_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_cfda_receiving_def_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of CFDA programs which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - award_type_codes (list): Optional. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11. Defaults to None here, but in the API it defaults to all the codes.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count of CFDA programs which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">}}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/cfda/count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_def_loans_for_cfda">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_def_loans_for_cfda">[docs]</a>
    <span class="k">def</span> <span class="nf">get_def_loans_for_cfda</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the CFDA Programs&#39; loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - award_type_codes (list): Optional. Only accepts loan award type 07 or 08 in the array, since this endpoint is specific to loans. Defaults to None.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the CFDA Programs&#39; loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">}</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/cfda/loans/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_cfda_programs_receiving_def_funding">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_cfda_programs_receiving_def_funding">[docs]</a>
    <span class="k">def</span> <span class="nf">get_cfda_programs_receiving_def_funding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">spending_type</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the cfda programs receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - spending_type (str): Spending type. Defaults to total, but other option is award.</span>
<span class="sd">        - award_type_codes (list): Optional. Only to be used if spending type is award. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, A, B, C, D, IDV_A, IDV_B_A, IDV_B_B, IDV_B_C, IDV_B, IDV_C, IDV_D, IDV_E, and -1.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the cfda programs receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">},</span>
                <span class="s2">&quot;spending_type&quot;</span><span class="p">:</span> <span class="n">spending_type</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/cfda/spending/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_defc_receiving_def_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_defc_receiving_def_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_defc_receiving_def_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of DEFC which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">         </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count of DEFC which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">}}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/def_code/count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_federal_accounts_receiving_def_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_federal_accounts_receiving_def_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_federal_accounts_receiving_def_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of Federal Accounts and TAS which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">         </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count of Federal Accounts and TAS which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">}}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/federal_account/count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_def_loans_for_federal_accounts">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_def_loans_for_federal_accounts">[docs]</a>
    <span class="k">def</span> <span class="nf">get_def_loans_for_federal_accounts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the Federal Accounts awarding loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - award_type_codes (list): Optional. Only accepts loan award type 07 or 08 in the array, since this endpoint is specific to loans. Defaults to None.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the Federal Accounts awarding loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">}</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/federal_account/loans/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_federal_accounts_receiving_def_funding">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_federal_accounts_receiving_def_funding">[docs]</a>
    <span class="k">def</span> <span class="nf">get_federal_accounts_receiving_def_funding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">spending_type</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the Federal Accounts and TAS receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - spending_type (str): Spending type. Defaults to total, but other option is award.</span>
<span class="sd">        - award_type_codes (list): Optional. Only to be used if spending type is award. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, A, B, C, D, IDV_A, IDV_B_A, IDV_B_B, IDV_B_C, IDV_B, IDV_C, IDV_D, IDV_E, and -1.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the Federal Accounts and TAS receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">},</span>
                <span class="s2">&quot;spending_type&quot;</span><span class="p">:</span> <span class="n">spending_type</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/federal_account/spending/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_object_classes_receiving_def_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_object_classes_receiving_def_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_object_classes_receiving_def_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of Object Classes which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">         </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count of Object Classes which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">}}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/object_class/count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_def_loans_for_object_classes">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_def_loans_for_object_classes">[docs]</a>
    <span class="k">def</span> <span class="nf">get_def_loans_for_object_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the Object Classes&#39; loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - award_type_codes (list): Optional. Only accepts loan award type 07 or 08 in the array, since this endpoint is specific to loans. Defaults to None.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the Object Classes&#39; loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">}</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/object_class/loans/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_object_classes_receiving_def_funding">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_object_classes_receiving_def_funding">[docs]</a>
    <span class="k">def</span> <span class="nf">get_object_classes_receiving_def_funding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">spending_type</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the Object Classes receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - spending_type (str): Spending type. Defaults to total, but other option is award.</span>
<span class="sd">        - award_type_codes (list): Optional. Only to be used if spending type is award. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, A, B, C, D, IDV_A, IDV_B_A, IDV_B_B, IDV_B_C, IDV_B, IDV_C, IDV_D, IDV_E, and -1.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the Object Classes receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">},</span>
                <span class="s2">&quot;spending_type&quot;</span><span class="p">:</span> <span class="n">spending_type</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/object_class/spending/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_recipients_receiving_def_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_recipients_receiving_def_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_recipients_receiving_def_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of Recipients which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - award_type_codes (list): Optional. Only to be used if spending type is award. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, A, B, C, D, IDV_A, IDV_B_A, IDV_B_B, IDV_B_C, IDV_B, IDV_C, IDV_D, IDV_E, and -1.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the count of Recipients which received disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">}}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/recipient/count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_def_loans_for_recipients">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_def_loans_for_recipients">[docs]</a>
    <span class="k">def</span> <span class="nf">get_def_loans_for_recipients</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the recipient loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - award_type_codes (list): Optional. Only accepts loan award type 07 or 08 in the array, since this endpoint is specific to loans. Defaults to None.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the recipient loans from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">}</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/recipient/loans/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_recipients_receiving_def_funding">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_recipients_receiving_def_funding">[docs]</a>
    <span class="k">def</span> <span class="nf">get_recipients_receiving_def_funding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">spending_type</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns insights on the recipients receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - spending_type (str): Spending type. Defaults to total, but other option is award.</span>
<span class="sd">        - award_type_codes (list): Optional. Only to be used if spending type is award. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, A, B, C, D, IDV_A, IDV_B_A, IDV_B_B, IDV_B_C, IDV_B, IDV_C, IDV_D, IDV_E, and -1.</span>
<span class="sd">        - limit (int): Page size of results. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - order (str): Order of returned data. Defaults to desc (descending), with asc (ascending) as other option.</span>
<span class="sd">        - sort (str): Optional parameter indicating what returns values should be sorted by. Default is id, but other options are code, description, award_count, face_value_of_loan, obligation, and outlay.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing insights on the recipients receiving funding from disaster/emergency funding per the requested filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;pagination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">},</span>
                <span class="s2">&quot;spending_type&quot;</span><span class="p">:</span> <span class="n">spending_type</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/recipient/spending/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_def_spending_by_geography">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_def_spending_by_geography">[docs]</a>
    <span class="k">def</span> <span class="nf">get_def_spending_by_geography</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">geo_layer</span><span class="p">,</span> <span class="n">spendng_type</span><span class="p">,</span> <span class="n">geo_layer_filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;recipient_location&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns geographical spending information from emergency/disaster funding based on recipient location.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V.</span>
<span class="sd">        - geo_layer (str): Sets the type of shape codes in the response. Possible values are state, county, and district.</span>
<span class="sd">        - spending_type (str): Possible values are obligation, outlay, and face_value_of_loan.</span>
<span class="sd">        - geo_layer_filters (list): Optional. Allows the API to only request data for what is currently in view in the map.. Defaults to None.</span>
<span class="sd">        - scope (str): Optional. When fetching awards, use the primary place of performance or recipient location. Defaults to recipient_location, but other values is place_of_performance.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing geographical spending information from emergency/disaster funding based on recipient location.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span>
                <span class="s2">&quot;geo_layer&quot;</span><span class="p">:</span> <span class="n">geo_layer</span><span class="p">,</span>
                <span class="s2">&quot;scope&quot;</span><span class="p">:</span> <span class="n">scope</span><span class="p">,</span>
                <span class="s2">&quot;spending_type&quot;</span><span class="p">:</span> <span class="n">spendng_type</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">geo_layer_filters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;geo_layer_filters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geo_layer_filters</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;disaster/spending_by_geography/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
    <span class="c1">### More download functions</span>
<div class="viewcode-block" id="USAspending.download_account">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.download_account">[docs]</a>
    <span class="k">def</span> <span class="nf">download_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account_level</span><span class="p">,</span> <span class="n">submission_types</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">agency</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">federal_account</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">quarter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">def_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate files and return metadata using filters on custom account.</span>
<span class="sd">            </span>
<span class="sd">        Args:</span>
<span class="sd">        - account_level (str): Used to filter for a specific type of file. Specific values are treasury_account and federal_account.</span>
<span class="sd">        - submission_types (list): Possible values are account_balances, object_class_program_activity, and award_financial.</span>
<span class="sd">        - fiscal_year (int): Fiscal year.</span>
<span class="sd">        - agency (str): Optional. The agency on which to filter. This field expects an internal toptier agency identifier also known as the toptier_agency_id. Defaults to None.</span>
<span class="sd">        - federal_account (str): Optional. An internal id. Defaults to None.</span>
<span class="sd">        - quarter (int): Either quarter or period is required. Do not supply both. Note that both monthly and quarterly submissions will be included in the resulting download file even if only quarter is provided. Possible values are 1, 2, 3, and 4.</span>
<span class="sd">        - period (int): Either quarter or period is required. Do not supply both. Agencies cannot submit data for period 1 so it is disallowed as a query filter. Note that both monthly and quarterly submissions will be included in the resulting download file even if only period is provided. Possible values are 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, and 12.</span>
<span class="sd">        - def_codes (list): Option search parameter by def codes.</span>
<span class="sd">        - file_format (str): Optional. Defaults to csv, but other values are tsv and pstxt.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing information on the download job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;account_level&quot;</span><span class="p">:</span> <span class="n">account_level</span><span class="p">,</span>
                <span class="s2">&quot;file_format&quot;</span><span class="p">:</span> <span class="n">file_format</span><span class="p">,</span>
                <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;fy&quot;</span><span class="p">:</span> <span class="n">fiscal_year</span><span class="p">,</span>
                    <span class="s2">&quot;submission_types&quot;</span><span class="p">:</span> <span class="n">submission_types</span>
                    <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">quarter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">period</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Either quarter or period must be supplied, not both.&quot;</span><span class="p">)</span>
            <span class="n">exit</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">quarter</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">period</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Either quarter or period must be supplied.&quot;</span><span class="p">)</span>
            <span class="n">exit</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">quarter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">period</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">][</span><span class="s2">&quot;quarter&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quarter</span>
        <span class="k">elif</span> <span class="n">period</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">quarter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">][</span><span class="s2">&quot;period&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">period</span>
        <span class="k">if</span> <span class="n">agency</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">][</span><span class="s2">&quot;agency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">agency</span>
        <span class="k">if</span> <span class="n">federal_account</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">][</span><span class="s2">&quot;federal_account&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">federal_account</span>
        <span class="k">if</span> <span class="n">def_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">][</span><span class="s2">&quot;def_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">def_codes</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;download/accounts/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

            
<div class="viewcode-block" id="USAspending.download_assistance_data">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.download_assistance_data">[docs]</a>
    <span class="k">def</span> <span class="nf">download_assistance_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new download job for the requested award and returns a link to a zipped file containing contract award data.</span>
<span class="sd">            </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique identifier for the award.</span>
<span class="sd">        - file_format (str): Optional. Defaults to csv, but other values are tsv and pstxt.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing information about the download job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span> <span class="s2">&quot;file_format&quot;</span><span class="p">:</span> <span class="n">file_format</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;download/assistance/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

            
<div class="viewcode-block" id="USAspending.download_award_data_advanced">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.download_award_data_advanced">[docs]</a>
    <span class="k">def</span> <span class="nf">download_award_data_advanced</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a download job for the award data matching the search filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced json object for filtering results. Must contain ar least one filter entry. See this endpoint&#39;s docs for information on format of this filtering object.</span>
<span class="sd">        - columns (list): A list of the column names desired. Default is None.</span>
<span class="sd">        - file_format (str): Default is csv, but other options are tsv and pstxt.</span>
<span class="sd">        - limit (int): Optional. Number of items in file. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing information about the download job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;file_format&quot;</span><span class="p">:</span> <span class="n">file_format</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">columns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;columns&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">columns</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;download/awards/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.download_contract_data">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.download_contract_data">[docs]</a>
    <span class="k">def</span> <span class="nf">download_contract_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new download job for the requested award and returns a link to a zipped file containing award contract data.</span>
<span class="sd">            </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique identifier for the award.</span>
<span class="sd">        - file_format (str): Optional. Defaults to csv, but other values are tsv and pstxt.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing information about the download job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span> <span class="s2">&quot;file_format&quot;</span><span class="p">:</span> <span class="n">file_format</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;download/contract/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.download_transaction_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.download_transaction_count">[docs]</a>
    <span class="k">def</span> <span class="nf">download_transaction_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of transactions that would be included in a download request for the given filter set.</span>
<span class="sd">            </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): Advanced json filter object. See this endpoint&#39;s docs for information on the format of this json object.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a number of transactions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">filters</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;download/count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

       
<div class="viewcode-block" id="USAspending.download_def_data">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.download_def_data">[docs]</a>
    <span class="k">def</span> <span class="nf">download_def_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new download job for the requested COVID-19 related account and award. Returns a link to a zipped file containing the generated data files.</span>
<span class="sd">            </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V, but it must be either one of these or all of them.</span>
<span class="sd">        - file_format (str): Optional. Defaults to csv, but other values are tsv and pstxt.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing information about the download job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">},</span> <span class="s2">&quot;file_format&quot;</span><span class="p">:</span> <span class="n">file_format</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;download/disaster/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.download_def_recipient_data">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.download_def_recipient_data">[docs]</a>
    <span class="k">def</span> <span class="nf">download_def_recipient_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_codes</span><span class="p">,</span> <span class="n">award_type_codes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns information to download a zip file of recipient disaster data. Specifically, only COVID-19 at the moment</span>
<span class="sd">            </span>
<span class="sd">        Args:</span>
<span class="sd">        - def_codes (list): A list of Disaster Emergency Fund (def) codes (strings). Possible values are L, M, N, O, P, U, and V, but it must be either one of these or all of them.</span>
<span class="sd">        - award_type_codes (list): Optional. Possible values are 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, A, B, C, D, IDV_A, IDV_B_A, IDV_B_B, IDV_B_C, IDV_B, IDV_C, IDV_D, IDV_E, and -1.</span>
<span class="sd">        - query (str): Search query term.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing information about the download job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;def_codes&quot;</span><span class="p">:</span> <span class="n">def_codes</span><span class="p">}}</span>
        <span class="k">if</span> <span class="n">award_type_codes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">][</span><span class="s2">&quot;award_type_codes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_type_codes</span>
        <span class="k">if</span> <span class="n">query</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">][</span><span class="s2">&quot;query&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">query</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;download/disaster/recipients/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.download_idv_data">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.download_idv_data">[docs]</a>
    <span class="k">def</span> <span class="nf">download_idv_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new download job for the requested award and returns a link to a zipped file containing IDV data.</span>
<span class="sd">            </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Unique identifier for the award.</span>
<span class="sd">        - file_format (str): Optional. Defaults to csv, but other values are tsv and pstxt.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing information about the download job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span> <span class="s2">&quot;file_format&quot;</span><span class="p">:</span> <span class="n">file_format</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;download/idv/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.download_transactions_data_advanced">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.download_transactions_data_advanced">[docs]</a>
    <span class="k">def</span> <span class="nf">download_transactions_data_advanced</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a download job for the transaction data matching the search filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced json object for filtering results. Must contain ar least one filter entry. See this endpoint&#39;s docs for information on format of this filtering object.</span>
<span class="sd">        - columns (list): A list of the column names desired. Default is None.</span>
<span class="sd">        - file_format (str): Default is csv, but other options are tsv and pstxt.</span>
<span class="sd">        - limit (int): Optional. Number of items in file. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing information about the download job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;file_format&quot;</span><span class="p">:</span> <span class="n">file_format</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">columns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;columns&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">columns</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;download/transactions/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
    <span class="c1">### Other functions </span>
<div class="viewcode-block" id="USAspending.get_federal_account">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_federal_account">[docs]</a>
    <span class="k">def</span> <span class="nf">get_federal_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account_number</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the agency identifier, account code, title, and database id for the given federal account.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - account_number (str): The Federal Account symbol comprised of Agency Code and Main Account Code. A unique identifier for federal accounts.</span>
<span class="sd">        - fiscal_year (str): Desired fiscal year. Defaults to current year.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the agency identifier, account code, title, and database id for the given federal account.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;federal_accounts/</span><span class="si">{</span><span class="n">account_number</span><span class="si">}</span><span class="s2">/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_data_by_object_class">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_data_by_object_class">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_data_by_object_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">federal_account_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns object classes that the specified federal account has allotted money toward.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - federal_account_id (int): Database id for a federal account.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the data matching the parameter.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;federal_accounts/</span><span class="si">{</span><span class="n">federal_account_id</span><span class="si">}</span><span class="s2">/available_object_classes&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_fiscal_year_snapshot_for_federal_account">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_fiscal_year_snapshot_for_federal_account">[docs]</a>
    <span class="k">def</span> <span class="nf">get_fiscal_year_snapshot_for_federal_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">federal_account_id</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="n">current</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns budget information for a federal account for the year provided based on account&#39;s internal ID.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - federal_account_id (int): Database id for a federal account.</span>
<span class="sd">        - fiscal_year (int): The fiscal year. Defaults to the current year.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing budget information for a federal account for the year provided based on account&#39;s internal ID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;federal_accounts/</span><span class="si">{</span><span class="n">federal_account_id</span><span class="si">}</span><span class="s2">/fiscal_year_snapshot/</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.search_federal_accounts">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.search_federal_accounts">[docs]</a>
    <span class="k">def</span> <span class="nf">search_federal_accounts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">current</span><span class="p">),</span> <span class="n">agency_identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sort_direction</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort_field</span><span class="o">=</span><span class="s2">&quot;budgetary_resources&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of federal accounts, their number, name, managing agency, and budgetary resources matching the search parameters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fiscal_year (str): The desired fiscal year, entered as a string. If none is given, default is previous year.</span>
<span class="sd">        - agency_identifier (str): Agency id. Optional. Defaults to None.</span>
<span class="sd">        - sort_direction (str): The direction in which to sort. Defaults to desc, but other option is asc.</span>
<span class="sd">        - sort_field (str): The field on which to sort. Default is budgetary_resources, but other options are account_number, account_name, and managing_agency.</span>
<span class="sd">        - limit (int): Number of results to include per page. Defaults to 50.</span>
<span class="sd">        - page (int): The page to return. Defaults to first page.</span>
<span class="sd">        - keyword (str): Optional search term. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of federal accounts, their number, name, managing agency, and budgetary resources matching the search parameters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;fy&quot;</span><span class="p">:</span> <span class="n">fiscal_year</span><span class="p">},</span>
                <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="n">sort_direction</span><span class="p">,</span>
                    <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="n">sort_field</span>
                    <span class="p">},</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">agency_identifier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">][</span><span class="s2">&quot;agency_identifier&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">agency_identifier</span>
        <span class="k">if</span> <span class="n">keyword</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;keyword&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">keyword</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;federal_accounts/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_federal_account_by_obligation">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_federal_account_by_obligation">[docs]</a>
    <span class="k">def</span> <span class="nf">get_federal_account_by_obligation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">funding_agency_id</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the amount that the specific agency has obligated to various federal accounts in a given fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fiscal_year (int): The desired fiscal year.</span>
<span class="sd">        - funding_agency_id (int): The unique USAspending.gov agency identifier. This ID is the agency_id value returned in the /api/v2/references/toptier_agencies/ endpoint.</span>
<span class="sd">        - limit (int): Maximum number of results to return.</span>
<span class="sd">        - page (int): Optional pagination parameter. Defaults to first page.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the amount that the specific agency has obligated to various federal accounts in a given fiscal year.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;federal_obligations/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;funding_agency_id=</span><span class="si">{</span><span class="n">funding_agency_id</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_financial_balances">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_financial_balances">[docs]</a>
    <span class="k">def</span> <span class="nf">get_financial_balances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">funding_agency_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns aggregated balances for a specific government agency in a given fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fiscal_year (int): The desired fiscal year.</span>
<span class="sd">        - funding_agency_id (int): The unique USAspending.gov agency identifier. This ID is the agency_id value returned in the /api/v2/references/toptier_agencies/ endpoint.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing financial balance data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;financial_balances/agencies/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;funding_agency_id=</span><span class="si">{</span><span class="n">funding_agency_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_financial_spending_by_object_class">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_financial_spending_by_object_class">[docs]</a>
    <span class="k">def</span> <span class="nf">get_financial_spending_by_object_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">funding_agency_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the total amount that a specific agency has obligated to major object classes in a given fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fiscal_year (int): The desired fiscal year.</span>
<span class="sd">        - funding_agency_id (int): The unique USAspending.gov agency identifier. This ID is the agency_id value returned in the /api/v2/references/toptier_agencies/ endpoint.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing financial spending data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;financial_spending/major_object_class/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;funding_agency_id=</span><span class="si">{</span><span class="n">funding_agency_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_financial_spending_for_minor_object_class">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_financial_spending_for_minor_object_class">[docs]</a>
    <span class="k">def</span> <span class="nf">get_financial_spending_for_minor_object_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">funding_agency_id</span><span class="p">,</span> <span class="n">major_object_class_code</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the total amount that a specific agency has obligated to minor object classes within a specific major object class in a given fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fiscal_year (int): The desired fiscal year.</span>
<span class="sd">        - funding_agency_id (int): The unique USAspending.gov agency identifier. This ID is the agency_id value returned in the /api/v2/references/toptier_agencies/ endpoint.</span>
<span class="sd">        - major_object_class_code (int): The major object class code returned in /api/v2/financial_spending/major_object_class/.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing financial spending data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;financial_spending/major_object_class/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;funding_agency_id=</span><span class="si">{</span><span class="n">funding_agency_id</span><span class="si">}</span><span class="s2">&amp;major_object_class_code=</span><span class="si">{</span><span class="n">major_object_class_code</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
    <span class="c1">### IDV functions  </span>
<div class="viewcode-block" id="USAspending.get_federal_accounts_under_idv">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_federal_accounts_under_idv">[docs]</a>
    <span class="k">def</span> <span class="nf">get_federal_accounts_under_idv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;total_transaction_obligated_amount&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of federal accounts under a given IDV.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): IDV (Indefinite Delivery Vehicle) to return accounts for.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Optional. Number of items to return. Default is 10.</span>
<span class="sd">        - order (str): Order in which to return data. Default is desc, and other option is asc.</span>
<span class="sd">        - sort (str): Sorting parameter. Default is total_transaction_obligated_amount, but other options are federal_account, agency, and account_title.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of federal accounts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span>
                <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span>
                <span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span>
        <span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;idvs/accounts/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_idv_activity">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_idv_activity">[docs]</a>
    <span class="k">def</span> <span class="nf">get_idv_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">hide_edge_cases</span><span class="o">=</span><span class="s2">&quot;false&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of child and grandchild awards for a given IDV.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): IDV (Indefinite Delivery Vehicle) to return accounts for.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Optional. Number of items to return. Default is 10.</span>
<span class="sd">        - hide_edge_cases (str): Choose whether or not to hide awards that have no/negative obligated amounts and/or no/negative awarded amounts and/or no end date. Default is false and true is other option.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of awards.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;hide_edge_cases&quot;</span><span class="p">:</span> <span class="n">hide_edge_cases</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span>
        <span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;idvs/activity/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_idv_amounts">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_idv_amounts">[docs]</a>
    <span class="k">def</span> <span class="nf">get_idv_amounts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns aggregated award counts and funding amounts for IDV contracts.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Either a &quot;generated&quot; natural award id (string) or a database surrogate award id (number). Generated award identifiers are preferred as they are effectively permanent. Surrogate award ids are retained for backward compatibility but are deprecated.</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of award coints and funding amounts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;idvs/amounts/</span><span class="si">{</span><span class="n">award_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_idv_awards">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_idv_awards">[docs]</a>
    <span class="k">def</span> <span class="nf">get_idv_awards</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">Type</span><span class="o">=</span><span class="s2">&quot;child_idvs&quot;</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;period_of_performance_start_date&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of child IDVs, child awards, or grandchild awards for IDV.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Either a &quot;generated&quot; natural award id (string) or a database surrogate award id (number). Generated award identifiers are preferred as they are effectively permanent. Surrogate award ids are retained for backward compatibility but are deprecated.</span>
<span class="sd">        - type (str): The type of related awards to return. Default is child_idvs, but other options are child_awards and grandchild_awards.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Optional. Number of items to return. Default is 10.</span>
<span class="sd">        - order (str): Order in which to return data. Default is desc, and other option is asc.</span>
<span class="sd">        - sort (str): Sorting parameter. Default is period_of_performance_start_date, but other options are piid, description, period_of_performance_current_end_date, last_date_to_order, funding_agency, awarding_agency, award_type, and obligated_amount.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of idv award data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">Type</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span>
                <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span>        
        <span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;idvs/awards/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_idv_federal_account_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_idv_federal_account_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_idv_federal_account_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">piid</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of federal accounts associated with the given IDV and it&#39;s children and grandchildren.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Either a &quot;generated&quot; natural award id (string) or a database surrogate award id (number). Generated award identifiers are preferred as they are effectively permanent. Surrogate award ids are retained for backward compatibility but are deprecated.</span>
<span class="sd">        - piid (str): Optional. Award ID to further refine results. All File C financial data for this award is returned if omitted. Defaults to None.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a federal account count.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">piid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;idvs/count/federal_account/</span><span class="si">{</span><span class="n">award_id</span><span class="si">}</span><span class="s2">/?piid=</span><span class="si">{</span><span class="n">piid</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;idvs/count/federal_account/</span><span class="si">{</span><span class="n">award_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_idv_funding">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_idv_funding">[docs]</a>
    <span class="k">def</span> <span class="nf">get_idv_funding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">piid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;reporting_fiscal_date&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of File C financial data for an IDV award&#39;s descendant contracts.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Either a &quot;generated&quot; natural award id (string) or a database surrogate award id (number). Generated award identifiers are preferred as they are effectively permanent. Surrogate award ids are retained for backward compatibility but are deprecated.</span>
<span class="sd">        - piid (str): Optional. Award ID to further refine results. All File C financial data for this award is returned if omitted. Defaults to None.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Optional. Number of items to return. Default is 10.</span>
<span class="sd">        - order (str): Order in which to return data. Default is desc, and other option is asc.</span>
<span class="sd">        - sort (str): Sorting parameter. Default is reporting_fiscal_date, but other options are account_title, disaster_emergency_fund_code, gross_outlay_amount, object_class, piid, program_activity, reporting_agency_name, and transaction_obligated_amount.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of financial data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span>
                <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span>        
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">piid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;piid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">piid</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;idvs/funding/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_idv_funding_totals">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_idv_funding_totals">[docs]</a>
    <span class="k">def</span> <span class="nf">get_idv_funding_totals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns award metadata summing the total transaction obligations and counting awarding agencies, funding agencies, and federal accounts for an IDV&#39;s children and grandchildren.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Either a &quot;generated&quot; natural award id (string) or a database surrogate award id (number). Generated award identifiers are preferred as they are effectively permanent. Surrogate award ids are retained for backward compatibility but are deprecated.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing award metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;idvs/funding_rollup/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
    <span class="c1">### Recipient functions</span>
<div class="viewcode-block" id="USAspending.search_recipients">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.search_recipients">[docs]</a>
    <span class="k">def</span> <span class="nf">search_recipients</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;amount&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">award_type</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of recipients, their level, DUNS, UEI, and amount.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - order (str): The direction results are sorted by. asc for ascending, desc for descending. Default is desc.</span>
<span class="sd">        - sort (str): The field results are sorted by. Default is amount, but other values are name and duns.</span>
<span class="sd">        - limit (int): Number of results per page. Default is 50. Max is 1000.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - keyword (str): The keyword results are filtered by. Searches on name, UEI, or DUNS.        </span>
<span class="sd">        - award_type (str): The award type results are filtered by. Default is all, but other options are contracts, grants, loans, direct_payments, and other_financial_assistance.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of recipient data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span>
                <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span> <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;=</span> <span class="mi">1000</span> <span class="k">else</span> <span class="mi">1000</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;award_type&quot;</span><span class="p">:</span> <span class="n">award_type</span>       
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">keyword</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;keyword&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">keyword</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;recipient/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_child_recipients_by_duns_or_uei">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_child_recipients_by_duns_or_uei">[docs]</a>
    <span class="k">def</span> <span class="nf">get_child_recipients_by_duns_or_uei</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duns_or_uei</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="s2">&quot;latest&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of child recipients belonging to the given parent recipient DUNS or UEI.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - duns_or_uei (str): Parent recipient&#39;s DUNS or UEI.</span>
<span class="sd">        - year (str): The fiscal year you would like data for. Use all to view all time or latest to view the latest 12 months. Default is latest.   </span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of child recipients.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;recipient/children/</span><span class="si">{</span><span class="n">duns_or_uei</span><span class="si">}</span><span class="s2">/?year=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_recipient_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_recipient_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_recipient_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">award_type</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of recipients given an award_type and keyword string.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - keyword (str): The keyword results are filtered by. Searches on name, UEI, or DUNS.        </span>
<span class="sd">        - award_type (str): The award type results are filtered by. Default is all, but other options are contracts, grants, loans, direct_payments, and other_financial_assistance.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a count of recipients.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span><span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_type&quot;</span><span class="p">:</span> <span class="n">award_type</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">keyword</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;keyword&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">keyword</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;recipient/count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_recipient_overview">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_recipient_overview">[docs]</a>
    <span class="k">def</span> <span class="nf">get_recipient_overview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recipient_id</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="s2">&quot;latest&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a high-level overview of a specific recipient, given its id.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - recipient_id (str): A unique identifier for the recipient at a specific level (parent, child, or neither).</span>
<span class="sd">        - year (str): The fiscal year you would like data for. Use all to view all time or latest to view the latest 12 months. Default is latest.   </span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing an overview of recipient.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;recipient/</span><span class="si">{</span><span class="n">recipient_id</span><span class="si">}</span><span class="s2">/?year=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_state_metadata">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_state_metadata">[docs]</a>
    <span class="k">def</span> <span class="nf">get_state_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fips</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="s2">&quot;latest&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a high-level overview of a specific state or territory, given its USAspending.gov id.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fips (str): The FIPS code for the state you want to view. You must include leading zeros.</span>
<span class="sd">        - year (str): The fiscal year you would like data for. Use all to view all time or latest to view the latest 12 months. Default is latest.   </span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing state metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;recipient/state/</span><span class="si">{</span><span class="n">fips</span><span class="si">}</span><span class="s2">?year=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_states">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_states">[docs]</a>
    <span class="k">def</span> <span class="nf">get_states</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of states and their amounts.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - None</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of states.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;recipient/state&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_state_award_breakdown">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_state_award_breakdown">[docs]</a>
    <span class="k">def</span> <span class="nf">get_state_award_breakdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fips</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="s2">&quot;latest&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the award amounts and totals, based on award type, of a specific state or territory, given its USAspending.gov id.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fips (str): The FIPS code for the state you want to view. You must include leading zeros.</span>
<span class="sd">        - year (str): The fiscal year you would like data for. Use all to view all time or latest to view the latest 12 months. Default is latest.   </span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing amounts and totals of a state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;recipient/state/awards/</span><span class="si">{</span><span class="n">fips</span><span class="si">}</span><span class="s2">/?year=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
    <span class="c1">### Differences and discrepancies functions </span>
<div class="viewcode-block" id="USAspending.get_obligation_difference_data">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_obligation_difference_data">[docs]</a>
    <span class="k">def</span> <span class="nf">get_obligation_difference_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">fiscal_period</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;tas&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an overview of government agency obligation differences data.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_code (str): The specific agency code.</span>
<span class="sd">        - fiscal_year (int): The fiscal year.</span>
<span class="sd">        - fiscal_period (int): The fiscal period. Valid values: 2-12 (2 = November ... 12 = September) For retriving quarterly data, provide the period which equals &#39;quarter * 3&#39; (e.g. Q2 = P6).</span>
<span class="sd">        - page (int): Optional pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of results per page. Defaults to 10.</span>
<span class="sd">        - order (str): The direction (asc or desc) that the sort field will be sorted in. Default is desc.</span>
<span class="sd">        - sort (str):  A data field that will be used to sort the response array. Default is tas, but other options are difference, file_a_obligation, and file_b_obligation.</span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing an overview of government agency obligation differences data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;reporting/agencies/</span><span class="si">{</span><span class="n">toptier_code</span><span class="si">}</span><span class="s2">/differences/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;fiscal_period=</span><span class="si">{</span><span class="n">fiscal_period</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;sort=</span><span class="si">{</span><span class="n">sort</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_tas_discrepancies_data">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_tas_discrepancies_data">[docs]</a>
    <span class="k">def</span> <span class="nf">get_tas_discrepancies_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">fiscal_period</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;amount&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an overview of government agency TAS discrepancies data.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_code (str): The specific agency code.</span>
<span class="sd">        - fiscal_year (int): The fiscal year.</span>
<span class="sd">        - fiscal_period (int): The fiscal period. Valid values: 2-12 (2 = November ... 12 = September) For retriving quarterly data, provide the period which equals &#39;quarter * 3&#39; (e.g. Q2 = P6).</span>
<span class="sd">        - page (int): Optional pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of results per page. Defaults to 10.</span>
<span class="sd">        - order (str): The direction (asc or desc) that the sort field will be sorted in. Default is desc.</span>
<span class="sd">        - sort (str):  A data field that will be used to sort the response array. Default is amount, but other option is tas.</span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing an overview of government agency TAS discrepancies data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;reporting/agencies/</span><span class="si">{</span><span class="n">toptier_code</span><span class="si">}</span><span class="s2">/discrepancies/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;fiscal_period=</span><span class="si">{</span><span class="n">fiscal_period</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;sort=</span><span class="si">{</span><span class="n">sort</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
    <span class="c1">### References functions</span>
<div class="viewcode-block" id="USAspending.get_agency_overview_by_agency_id">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_agency_overview_by_agency_id">[docs]</a>
    <span class="k">def</span> <span class="nf">get_agency_overview_by_agency_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agency_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a high-level overview of a specific government agency, given its USAspending.gov id.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - agency_id (int): The unique USAspending.gov agency identifier. This ID is the agency_id value returned in the /api/v2/references/toptier_agencies/ endpoint.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing an agency overview.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/agency/</span><span class="si">{</span><span class="n">agency_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_award_types">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_award_types">[docs]</a>
    <span class="k">def</span> <span class="nf">get_award_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a grouping of award types.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - None</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a grouping of award types.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;references/award_types&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

    
    <span class="c1"># This doesn&#39;t seem to be working.  </span>
<span class="c1">#    def get_opportunity_totals_for_all_cfdas(self):</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#        Returns opportunity totals for a CFDA or all opportunity totals.</span>
<span class="c1">#        </span>
<span class="c1">#        Args:</span>
<span class="c1">#        - None</span>
<span class="c1">#          </span>
<span class="c1">#        Returns:</span>
<span class="c1">#        - dict: A dictionary containing opportunity totals for a CFDA or all opportunity totals.</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#        endpoint = &quot;references/cfda/totals&quot;</span>
<span class="c1">#        return mr.make_request(self.base_url+endpoint)</span>

<div class="viewcode-block" id="USAspending.get_data_dictionary">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_data_dictionary">[docs]</a>
    <span class="k">def</span> <span class="nf">get_data_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns data corresponding to the latest data dictionary csv file.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - None</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing data corresponding to the latest data dictionary csv file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;references/data_dictionary&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_def_codes">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_def_codes">[docs]</a>
    <span class="k">def</span> <span class="nf">get_def_codes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a JSON object describing all Disaster and Emergency Funding (DEF) Codes.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - None</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing all Disaster and Emergency Funding (DEF) Codes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;references/def_codes&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_filter_hash_for_url">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_filter_hash_for_url">[docs]</a>
    <span class="k">def</span> <span class="nf">get_filter_hash_for_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a hash for URL, based on selected filter criteria.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): Advanced JSON filtering object. See this endpoint&#39;s docs for information on the format of this filtering object.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a hash.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span><span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;references/filter/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_psc_search_tree_nodes">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_psc_search_tree_nodes">[docs]</a>
    <span class="k">def</span> <span class="nf">get_psc_search_tree_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the basic groupings of Product Service Codes.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - depth (int): Defines how many levels of descendants to return under each node. For example, depth=0 will return a flat array, while depth=2 will populate the children array of each top level node with that node&#39;s children and grandchildren. The actual depth of each tree may be less than the value of depth if returned nodes have no children. Negative values are treated as infinite, returning all descendants. Default is 0.</span>
<span class="sd">        - Filter (str):  Restricts results to nodes with a id or description matching the filter string. If depth is greater than zero, nodes will also appear the response if at least one child within depth matches the filter. Default is None.  </span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the basic groupings of the psc codes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/filter_tree/psc/?depth=</span><span class="si">{</span><span class="n">depth</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/filter_tree/psc/?depth=</span><span class="si">{</span><span class="n">depth</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_tas_search_tree_nodes">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_tas_search_tree_nodes">[docs]</a>
    <span class="k">def</span> <span class="nf">get_tas_search_tree_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of toptier agencies that have at least one TAS affiliated with them.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - depth (int): Defines how many levels of descendants to return under each node. For example, depth=0 will return a flat array, while depth=2 will populate the children array of each top level node with that node&#39;s children and grandchildren. The actual depth of each tree may be less than the value of depth if returned nodes have no children. Negative values are treated as infinite, returning all descendants. Default is 0.</span>
<span class="sd">        - Filter (str):  Restricts results to nodes with a id or description matching the filter string. If depth is greater than zero, nodes will also appear the response if at least one child within depth matches the filter. Default is None.  </span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of toptier agencies.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/filter_tree/tas/?depth=</span><span class="si">{</span><span class="n">depth</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/filter_tree/tas/?depth=</span><span class="si">{</span><span class="n">depth</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_glossary">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_glossary">[docs]</a>
    <span class="k">def</span> <span class="nf">get_glossary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of glossary data.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of items per page. Defaults to 10.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of glossary data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/glossary/?page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_filter_object_from_hash">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_filter_object_from_hash">[docs]</a>
    <span class="k">def</span> <span class="nf">get_filter_object_from_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Hash</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Accepts a hash generated by /api/v2/references/filter/ and returns an Advanced Search filter object.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - hash (str): A hash.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a filter object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span><span class="o">=</span> <span class="p">{</span><span class="s2">&quot;hash&quot;</span><span class="p">:</span> <span class="n">Hash</span><span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;references/hash/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_naics_codes">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_naics_codes">[docs]</a>
    <span class="k">def</span> <span class="nf">get_naics_codes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of Tier 1 NAICS codes, their descriptions, and a count of their Tier 3 grandchildren. If filter is provided then return parents/grandparents that match the search text.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - Filter (str): Optional. This will filter the NAICS by their descriptions to those matching the text. Default is None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of naics codes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/naics/?filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;references/naics&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="USAspending.get_submission_periods">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_submission_periods">[docs]</a>
    <span class="k">def</span> <span class="nf">get_submission_periods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_cache</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of all fields in the &quot;dabs_submission_window_schedule&quot; table except &#39;id&#39;.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - use_cache (bool): Optional. Whether or not to use a cache when retrieving values. Defaults to false.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of all fields in the &quot;dabs_submission_window_schedule&quot; table except &#39;id&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">use_cache</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/submission_periods/?use_cache=</span><span class="si">{</span><span class="n">use_cache</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;references/submission_periods&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_toptier_agencies">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_toptier_agencies">[docs]</a>
    <span class="k">def</span> <span class="nf">get_toptier_agencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;percentage_of_total_budget_authority&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of toptier agencies, their budgetary resources, and and the percent of the total government budget authority this agency accounts for.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - sort (str): A data field that will be used to sort the response array. Defaults to percentage_of_total_budget_authority.</span>
<span class="sd">        - order (str): The direction (asc or desc) that the sort field will be sorted in. Defaults to desc.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of toptier agencies.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/toptier_agencies/?sort=</span><span class="si">{</span><span class="n">sort</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_total_budgetary_resources">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_total_budgetary_resources">[docs]</a>
    <span class="k">def</span> <span class="nf">get_total_budgetary_resources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fiscal_period</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns federal budgetary resources by fiscal year and fiscal period.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fiscal_year (int): Optional. The fiscal year to retrieve, 2017 or later. Defaults to None.</span>
<span class="sd">        - fiscal_period (int): Optional. The fiscal period. If this optional parameter is provided then fiscal_year is a required parameter. If fiscal_period is provided without fiscal_year, a 400 error is returned. Valid values: 2-12 (2 = November ... 12 = September). For retrieving quarterly data, provide the period which equals &#39;quarter * 3&#39; (e.g. Q2 = P6). If neither paramater is provided, the entire available history will be returned.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing federal budgetary resources by fiscal year and fiscal period.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">fiscal_year</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">fiscal_period</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/total_budgetary_resources/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">fiscal_year</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">fiscal_period</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;references/total_budgetary_resources/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;fiscal_period=</span><span class="si">{</span><span class="n">fiscal_period</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">fiscal_year</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">fiscal_period</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;If fiscal_period parameter is passed, fiscal_year must be passed as well.&quot;</span><span class="p">)</span>
            <span class="n">exit</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">fiscal_year</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">fiscal_period</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;references/total_budgetary_resources&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
    <span class="c1">### Reporting functions   </span>
<div class="viewcode-block" id="USAspending.get_agency_overview_by_toptier_code">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_agency_overview_by_toptier_code">[docs]</a>
    <span class="k">def</span> <span class="nf">get_agency_overview_by_toptier_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_code</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;current_total_budget_authority_amount&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an overview of government agency submission data. </span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_code (str): The specific agency&#39;s toptier code.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of items per page. Defaults to 10.</span>
<span class="sd">        - order (str): The direction (asc or desc) that the sort field will be sorted in. Defaults to desc.</span>
<span class="sd">        - sort (str): A data field that will be used to sort the response array. Default is current_total_budget_authority_amount, but other options are fiscal_period, fiscal_year, missing_tas_accounts_count, tas_accounts_total, obligation_difference, percent_of_total_budgetary_resources, recent_publication_date, recent_publication_date_certified, tas_obligation_not_in_gtas_total, unlinked_contract_award_count, and unlinked_assistance_award_count.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing an overview of government agency submission data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;reporting/agencies/</span><span class="si">{</span><span class="n">toptier_code</span><span class="si">}</span><span class="s2">/overview/?page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;sort=</span><span class="si">{</span><span class="n">sort</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_agency_overview_by_year">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_agency_overview_by_year">[docs]</a>
    <span class="k">def</span> <span class="nf">get_agency_overview_by_year</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">fiscal_period</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;current_total_budget_authority_amount&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an overview of government agency submission data. </span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fiscal_year (int): The fiscal year.</span>
<span class="sd">        - fiscal_period (int): The fiscal period. Valid values: 2-12 (2 = November ... 12 = September) For retriving quarterly data, provide the period which equals &#39;quarter * 3&#39; (e.g. Q2 = P6).</span>
<span class="sd">        - Filter (str): The agency name or abbreviation to filter on (partial match, case insesitive). Defaults to None.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of items per page. Defaults to 10.</span>
<span class="sd">        - order (str): The direction (asc or desc) that the sort field will be sorted in. Defaults to desc.</span>
<span class="sd">        - sort (str): A data field that will be used to sort the response array. Default is current_total_budget_authority_amount, but other options are fiscal_period, fiscal_year, missing_tas_accounts_count, tas_accounts_total, obligation_difference, percent_of_total_budgetary_resources, recent_publication_date, recent_publication_date_certified, tas_obligation_not_in_gtas_total, unlinked_contract_award_count, and unlinked_assistance_award_count.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing an overview of government agency submission data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;reporting/agencies/overview/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;fiscal_period=</span><span class="si">{</span><span class="n">fiscal_period</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;sort=</span><span class="si">{</span><span class="n">sort</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;reporting/agencies/overview/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;fiscal_period=</span><span class="si">{</span><span class="n">fiscal_period</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;sort=</span><span class="si">{</span><span class="n">sort</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_agency_reporting_publish_dates">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_agency_reporting_publish_dates">[docs]</a>
    <span class="k">def</span> <span class="nf">get_agency_reporting_publish_dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">Filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;current_total_budget_authority_amount&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns list of agency submission information, included published and certified dates for the fiscal year.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - fiscal_year (int): The fiscal year.</span>
<span class="sd">        - Filter (str): The agency name or abbreviation to filter on (partial match, case insesitive). Defaults to None.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of items per page. Defaults to 10.</span>
<span class="sd">        - order (str): The direction (asc or desc) that the sort field will be sorted in. Defaults to desc.</span>
<span class="sd">        - sort (str): A data field that will be used to sort the response array. Default is current_total_budget_authority_amount, but other options are agency_name, abbreviation, toptier_code, and publication_date.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of agency submission information, included published and certified dates for the fiscal year.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;reporting/agencies/publish_dates/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;filter=</span><span class="si">{</span><span class="n">Filter</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;sort=</span><span class="si">{</span><span class="n">sort</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;reporting/agencies/publish_dates/?fiscal_year=</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">&amp;page=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&amp;limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&amp;order=</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&amp;sort=</span><span class="si">{</span><span class="n">sort</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_reporting_publishing_dates_for_single_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_reporting_publishing_dates_for_single_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_reporting_publishing_dates_for_single_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">fiscal_period</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the history of publication and certification dates for a single agency&#39;s submission. </span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_code (str): The specific agency&#39;s toptier code.</span>
<span class="sd">        - fiscal_year (int): The fiscal year of the submission.</span>
<span class="sd">        - fiscal_period (int): The fiscal period of the submission. valid values: 2-12 (2 = November ... 12 = September) For retriving quarterly submissions, provide the period which equals &#39;quarter * 3&#39; (e.g. Q2 = P6).</span>
<span class="sd">             </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a publishing and certification data for a single agency.</span>
<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;reporting/agencies/</span><span class="si">{</span><span class="n">toptier_code</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">fiscal_period</span><span class="si">}</span><span class="s2">/submission_history&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_unlinked_awards_for_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_unlinked_awards_for_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_unlinked_awards_for_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toptier_code</span><span class="p">,</span> <span class="n">fiscal_year</span><span class="p">,</span> <span class="n">fiscal_period</span><span class="p">,</span> <span class="n">Type</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of unlinked and linked awards for the agency in the provided fiscal year and period.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - toptier_code (str): The specific agency&#39;s toptier code.</span>
<span class="sd">        - fiscal_year (int): The fiscal year of the submission.</span>
<span class="sd">        - fiscal_period (int): The fiscal period of the submission. valid values: 2-12 (2 = November ... 12 = September) For retriving quarterly submissions, provide the period which equals &#39;quarter * 3&#39; (e.g. Q2 = P6).</span>
<span class="sd">        - Type (str): Possible vales are assistance and procurement. </span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing number of unlinked and linked awards.</span>
<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;reporting/agencies/</span><span class="si">{</span><span class="n">toptier_code</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">fiscal_year</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">fiscal_period</span><span class="si">}</span><span class="s2">/unlinked_awards/</span><span class="si">{</span><span class="n">Type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">)</span></div>

        
    <span class="c1">### Search functions</span>
<div class="viewcode-block" id="USAspending.get_new_awards_over_time">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_new_awards_over_time">[docs]</a>
    <span class="k">def</span> <span class="nf">get_new_awards_over_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">,</span> <span class="n">recipient_id</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;quarter&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the count of new awards grouped by time period in ascending order (earliest to most recent).</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - start_date (str): (YYYY-MM-DD) Currently limited to an earliest date of 2007-10-01 (FY2008). For data going back to 2000-10-01 (FY2001), use either the Custom Award Download feature on the website or one of our download or bulk_download API endpoints.</span>
<span class="sd">        - end_date (str): (YYYY-MM-DD) Currently limited to an earliest date of 2007-10-01 (FY2008). For data going back to 2000-10-01 (FY2001), use either the Custom Award Download feature on the website or one of our download or bulk_download API endpoints.</span>
<span class="sd">        - recipient_id (str): Optional. A hash of recipient UEI, DUNS, name, and level. A unique identifier for recipients. Defaults to None.</span>
<span class="sd">        - group (str): How to group the data. Default is quarter, but other options are fiscal_year and month.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a count of new awards.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
                  <span class="s2">&quot;group&quot;</span><span class="p">:</span> <span class="n">group</span><span class="p">,</span>
                  <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">{</span>
                      <span class="s2">&quot;recipient_id&quot;</span><span class="p">:</span> <span class="n">recipient_id</span><span class="p">,</span>
                      <span class="s2">&quot;time_period&quot;</span><span class="p">:</span> <span class="p">[</span>
                          <span class="p">{</span>
                              <span class="s2">&quot;start_date&quot;</span><span class="p">:</span> <span class="n">start_date</span><span class="p">,</span>
                              <span class="s2">&quot;end_date&quot;</span><span class="p">:</span> <span class="n">end_date</span>
                          <span class="p">}</span>
                      <span class="p">]</span>
                  <span class="p">}</span>
              <span class="p">}</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/new_awards_over_time/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_award">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_award">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_award</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">last_record_unique_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">last_record_sort_value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the fields of the filtered awards.</span>
<span class="sd">         </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - fields (list): Spending by award fields to return. See this endpoint&#39;s docs for the available fields.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - order (str): Indicates what direction results should be sorted by. Valid options include asc for ascending order or desc for descending order. Default is desc and other option is asc.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - sort (str): Optional parameter indicating what value results should be sorted by. Valid options are any of the fields in the JSON objects in the response. Defaults to the first field provided, but here it defaults to None.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">        - last_record_unique_id (int): Optional. The unique id of the last record in the results set. Used in the experimental Elasticsearch API functionality. Defaults to None.</span>
<span class="sd">        - last_record_sort_value (str): Optional. The value of the last record that is being sorted on. Used in the experimental Elasticsearch API functionality. Defaults to None.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the fields of the filtered awards.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
              <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
              <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
              <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
              <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span>
              <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
              <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="n">fields</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">sort</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;sort&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sort</span>
        <span class="k">if</span> <span class="n">last_record_unique_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;last_record_unique_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">last_record_unique_id</span>
        <span class="k">if</span> <span class="n">last_record_sort_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;last_record_sort_value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">last_record_sort_value</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_award/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_award_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_award_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_award_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of awards in each award type (Contracts, Loans, Direct Payments, Grants, Other and IDVs).</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a number of awards.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_award_count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_awarding_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_awarding_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_awarding_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of Awarding Agencies sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of Awarding Agencies sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;awarding_agency&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/awarding_agency/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_awarding_subagency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_awarding_subagency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_awarding_subagency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of Awarding Subagencies sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of Awarding Subagencies sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;awarding_subagency&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/awarding_subagency/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_cfda">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_cfda">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_cfda</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of CFDA sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of CFDA sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;cfda&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/cfda/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_country">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_country">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_country</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of Countries sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of Countries sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;country&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/country/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_county">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_county">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_county</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of Counties sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of Counties sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;county&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/county/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_district">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_district">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_district</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of Congressional Districts sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of Congressional Districts sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;district&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/district/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_federal_account">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_federal_account">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_federal_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of Federal Accounts sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of Federal Accounts sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;federal_account&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/federal_account/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_funding_agency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_funding_agency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_funding_agency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of Funding Agencies sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of Funding Agencies sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;funding_agency&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/funding_agency/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_funding_subagency">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_funding_subagency">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_funding_subagency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of Funding Subagencies sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of Funding Subagencies sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;funding_subagency&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/funding_subagency/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_naics">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_naics">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_naics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of NAICS sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of NAICS sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;naics&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/naics/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_psc">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_psc">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_psc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of PSC sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of PSC sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;psc&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/psc/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

    
    <span class="c1"># This enpoint doesn&#39;t seem to be working  </span>
<span class="c1">#    def get_spending_by_recipient(self, filters, limit=10, page=1, subawards=False):</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#        Returns a list of the top results of Recipients sorted by the total amounts in descending order.</span>
<span class="c1">#        </span>
<span class="c1">#        Args:</span>
<span class="c1">#        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="c1">#        - limit (int): Number of items to return. Default is 10.</span>
<span class="c1">#        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="c1">#        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="c1">#          </span>
<span class="c1">#        Returns:</span>
<span class="c1">#        - dict: A dictionary containing a list of the top results of Recipients sorted by the total amounts in descending order.</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#        data = {&quot;filters&quot;: filters,</span>
<span class="c1">#                &quot;category&quot;: &quot;recipient&quot;,</span>
<span class="c1">#                &quot;subawards&quot;: subawards,</span>
<span class="c1">#                &quot;page&quot;: page,</span>
<span class="c1">#                &quot;limit&quot;: limit} </span>
<span class="c1">#        endpoint = &quot;search/spending_by_category/recipient/&quot;</span>
<span class="c1">#        return mr.make_request_with_post_and_json(self.base_url+endpoint, json=data)</span>

<div class="viewcode-block" id="USAspending.get_spending_by_state_territory">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_state_territory">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_state_territory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of the top results of State Territories sorted by the total amounts in descending order.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - limit (int): Number of items to return. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of the top results of State Territories sorted by the total amounts in descending order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;state_territory&quot;</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_category/state_territory/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_geography">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_geography">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_geography</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">geo_layer</span><span class="p">,</span> <span class="n">geo_layer_filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns aggregated obligation amounts in different geographic areas. </span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - scope (str): When fetching transactions, use the primary place of performance or recipient location. Options are place_of_performance and recipient_location.</span>
<span class="sd">        - geo_layer (str): Set the type of areas in the response. Options are state, county, district, and country.</span>
<span class="sd">        - geo_layer_filters (list): Optional. List of U.S. state codes, U.S. county codes, U.S. Congressional districts, or ISO 3166-1 alpha-3 country codes to show results for.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing aggregated obligation amounts in different geographic areas.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;scope&quot;</span><span class="p">:</span> <span class="n">scope</span><span class="p">,</span>
                <span class="s2">&quot;geo_layer&quot;</span><span class="p">:</span> <span class="n">geo_layer</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">}</span> 
        <span class="k">if</span> <span class="n">geo_layer_filters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;geo_layer_filters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geo_layer_filters</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_geography/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_transaction">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_transaction">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_transaction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;Transaction Amount&quot;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns transaction records which match the provided filters. </span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - fields (list): The field names to include in the response.</span>
<span class="sd">        - limit (int): The number of results per page. Default is 10.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - sort (str): The field on which to order results in the response. Default is &quot;Transaction Amount&quot;</span>
<span class="sd">        - order (str): The direction in which to order results. asc for ascending or desc for descending. Default is desc.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing transaction records which match the provided filters.   </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="n">fields</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span>
                <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span>
                <span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_transaction/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_by_transaction_count">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_by_transaction_count">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_by_transaction_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns counts of transaction records which match the provided filters. </span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing counts transaction records which match the provided filters.   </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_by_transaction_count/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_spending_over_time">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_spending_over_time">[docs]</a>
    <span class="k">def</span> <span class="nf">get_spending_over_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;fiscal_year&quot;</span><span class="p">,</span> <span class="n">subawards</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of aggregated award amounts grouped by time period in ascending order (earliest to most recent).   </span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">        - group (str): Default is fiscal_year, and other options are quarter and month.</span>
<span class="sd">        - subawards (bool): True when you want to group by Subawards instead of Awards. Defaulted to False.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of aggregated award amounts grouped by time period in ascending order (earliest to most recent).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;group&quot;</span><span class="p">:</span> <span class="n">group</span><span class="p">,</span>
                <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span>
                <span class="s2">&quot;subawards&quot;</span><span class="p">:</span> <span class="n">subawards</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/spending_over_time/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_transaction_spending_summary">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_transaction_spending_summary">[docs]</a>
    <span class="k">def</span> <span class="nf">get_transaction_spending_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filters</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the high-level aggregations of the counts and dollar amounts for all transactions which match the keyword filter.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing the high-level aggregations of the counts and dollar amounts for all transactions which match the keyword filter.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span><span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;search/transaction_spending_summary/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

    
    <span class="c1"># Spending Explorer    </span>
<div class="viewcode-block" id="USAspending.explore_spending">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.explore_spending">[docs]</a>
    <span class="k">def</span> <span class="nf">explore_spending</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">filters</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns spending data information through various types of filters.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - Type (str): Options are federal_account, object_class, recipient, award, budget_function, budget_subfunction, agency, and program_activity.   </span>
<span class="sd">        - filters (dict): An advanced JSON search object. See this endpoint&#39;s docs for the format of this object.</span>
<span class="sd">          </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing spending data information through various types of filters.</span>
<span class="sd">        &quot;&quot;&quot;</span> 
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">Type</span><span class="p">,</span>
                <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="n">filters</span>
                <span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;spending/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

    
    <span class="c1"># Subawards    </span>
<div class="viewcode-block" id="USAspending.get_subawards">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_subawards">[docs]</a>
    <span class="k">def</span> <span class="nf">get_subawards</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="n">award_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a filtered set of subawards.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - sort (str): Required sorting parameter. Options are subaward_number, id, description, action_date, amount, recipient_name.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of items per page. Default is 10.</span>
<span class="sd">        - order (str): Ordering parameter. Default is desc (descending) and other option is asc (ascending).</span>
<span class="sd">        - award_id (str): Optional. Either a &quot;generated&quot; natural award id (string) or a database surrogate award id (number). Generated award identifiers are preferred as they are effectively permanent. Surrogate award ids are retained for backward compatibility but are deprecated.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a filtered set of subawards.</span>
<span class="sd">        &quot;&quot;&quot;</span> 
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span>
                <span class="p">}</span> 
        <span class="k">if</span> <span class="n">award_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;award_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">award_id</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;subawards/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="USAspending.get_transactions">
<a class="viewcode-back" href="../../../nokey.government.html#nokey.government.usa_spending.USAspending.get_transactions">[docs]</a>
    <span class="k">def</span> <span class="nf">get_transactions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">award_id</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s2">&quot;action_date&quot;</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of transactions, their amount, type, action date, action type, modification number, and description.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        - award_id (str): Either a &quot;generated&quot; natural award id (string) or a database surrogate award id (number). Generated award identifiers are preferred as they are effectively permanent. Surrogate award ids are retained for backward compatibility but are deprecated.</span>
<span class="sd">        - sort (str): The field results are sorted by. Default is action_date, but other options are modification_number, federal_action_obligation, face_value_loan_guarantee, original_loan_subsidy_cost, action_type_description, and description.</span>
<span class="sd">        - page (int): Pagination parameter. Defaults to first page.</span>
<span class="sd">        - limit (int): Number of items per page. Default is 10. Max is 5000.</span>
<span class="sd">        - order (str): Ordering parameter. Default is desc (descending) and other option is asc (ascending).</span>
<span class="sd">         </span>
<span class="sd">        Returns:</span>
<span class="sd">        - dict: A dictionary containing a list of transactions, their amount, type, action date, action type, modification number, and description.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;award_id&quot;</span><span class="p">:</span> <span class="n">award_id</span><span class="p">,</span>
                <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">sort</span><span class="p">,</span>
                <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="n">page</span><span class="p">,</span>
                <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
                <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="n">order</span>
                <span class="p">}</span> 
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;transactions/&quot;</span>
        <span class="k">return</span> <span class="n">mr</span><span class="o">.</span><span class="n">make_request_with_post_and_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="o">+</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>
</div>

  
  
  
  
   
  
  
  
   
  
   
   
   
   
   
   
   
   
   
   
   
 
   
   
  
   
   
   
   
  
   
  
   
    
   
    
 
        
    
        
    
   
 
  
 
  
  
        

    
 
   
 
   
    
  
   
    
        
 
 
 
 
 
 
        
 
    
    
  
  
  
  
  
  
   
   
   
   
        
  
        
    
        
              
        
  
  
        
    
 
        
            
       
    
 
   
     
   
    
    
   
   
   
    
     
       
        
        
  
  
  
  
  
  
  
  
  
    
   
   
   
   
  
   
   
     
    
     
     
   
  
  
  
  
  
  
  
  
   
 
   
        
        
        
                    
                    
    
  
  
    
      
  
  
 
 
 
  
  
   
   
   
   
        
    
        
    
  
       
       
       
        
        
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Spyder Rex.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>